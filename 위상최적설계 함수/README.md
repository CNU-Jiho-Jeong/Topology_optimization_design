### 스피드 스케이트 날(blade)의 위상최적설계 함수(m 파일)를 담고 있는 폴더입니다.

---

### 1. 위상최적설계 함수 구조

- top 함수 

- 최적화 알고리즘 함수
- 필터 함수 
- [K][U] = [F]를 푸는 함수
- 강성 요소 행렬을 정의하는 함수

### 2. 위상최적설계 함수 구동 순서

1) x 방향 요소의 수, y 방향 요소의 수, 몇 %의 질량을 사용, penalization power, 필터 사이즈 입력 받음

2) 강성 요소 행렬(KE)을 정의한다.

3) [K][U] = [F]를 푼다(강성 요소 행렬 KE를 사용하여 강성 K를 구하고, 힘 F와 고정점을 정의하여 변위 U를 계산한다).

4) Strain energy 함수(목적함수 c)와 이에 대한 gradient(gradient dc)를 구한다.

5) Strain energy 함수의 gradient에 대한 필터를 사용한다.

6) 목적함수인 c, c의 gradient인 dc, 제한조건인 volfrac을 최적화 알고리즘에 대입

7) 결과를 출력한다.

8) change변수가 0.01이하로 떨어질 때까지 2~7 과정을 반복한다(change는 새로운 설계변수와 그 전의 설계변수의 차의 절대값 중 가장 큰 값). 

### 3. 사용된 매트랩 문법

- x(행벡터1, 행벡터2) = y : (행벡터1 요소들의 수)*(행벡터2 요소들의 수) 크기의 행렬이면서 각 요소가 y인 행렬 x 정의 

- sprintf: 데이터 형식을 'string'형 또는 '문자형 벡터'로 지정

- colormap(gray): 현재 Figure의 컬러맵을 gray로 지정된 컬러맵으로 선정

- imagesc(-x): 현재 좌표축 대신 -x로 지정된 좌표축에 이미지 생성

- axis equal: 각 축의 데이터 단위에 동일한 길이 사용

- axis tight: 꼭 맞는 축 제한을 사용하여 값 반환
 
- axis off: 좌표축 선과 배경 없이 플롯 표시

- pause: 매트랩 실행을 일시적으로 중지

- floor(X): 행렬 X의 각 요소를 해당 요소보다 작거나 같은 가장 가까운 정수로 내림

 
- 희소 행렬: 행렬의 값 대부분이 0으로 채워진 행렬 => 0 으로 채워진 부분까지 행렬로 표현하는 방법은 메모리의 낭비
  - sparse -> 값이 없는 성분을 빼고 저장하여 계산 속도 향상
  - sparse(A) -> 희소 행렬 A의 메모리를 줄여준다. -> 계산속도 향상
  - sparse(a,b) -> 행렬의 모든 요소가 0인 희소 형식의 m×n 행렬을 생성 (메모리도 줄여준다 -> 계산속도 향상)
  
- \ : 좌측 나눗셈. 행렬 A가 역행렬을 갖는 정방 행렬이면 선형 방정식 Ax=b 의 해 x를 구하기 위해 좌측 나눗셈(\)을 사용 => x = A \ b

- setdiff: 두 배열의 차집합 => 여기서는 고정되지 않은 자유도를 구하기 위해 사용되었다. 

- C = setdiff(A,B)는 B에는 없고 A에는 있는 데이터를 겹치지 않게 반환한다. C는 순서대로 정렬된다.

-  
![image](https://user-images.githubusercontent.com/108641325/213968471-30c804da-5d23-404e-a596-84446d4df309.png)
